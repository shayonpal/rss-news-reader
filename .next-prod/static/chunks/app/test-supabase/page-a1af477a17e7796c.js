(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{2206:function(e,t,s){Promise.resolve().then(s.bind(s,5247))},5247:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(7437),r=s(2265),i=s(7205);class n{static async createUser(e){let{data:t,error:s}=await i.OQ.from("users").insert(e).select().single();if(s)throw s;return t}static async getUserByInoreaderID(e){let{data:t,error:s}=await i.OQ.from("users").select("*").eq("inoreader_id",e).single();if(s)throw s;return t}static async createFeed(e){let{data:t,error:s}=await i.OQ.from("feeds").insert(e).select().single();if(s)throw s;return t}static async getFeedsByUser(e){let{data:t,error:s}=await i.OQ.from("feeds").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(s)throw s;return t}static async createArticle(e){let{data:t,error:s}=await i.OQ.from("articles").insert(e).select().single();if(s)throw s;return t}static async getArticlesByFeed(e){let{data:t,error:s}=await i.OQ.from("articles").select("*").eq("feed_id",e).order("published_at",{ascending:!1});if(s)throw s;return t}static async updateArticleReadStatus(e,t){let{data:s,error:a}=await i.OQ.from("articles").update({is_read:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw a;return s}static async createFolder(e){let{data:t,error:s}=await i.OQ.from("folders").insert(e).select().single();if(s)throw s;return t}static async getFoldersByUser(e){let{data:t,error:s}=await i.OQ.from("folders").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(s)throw s;return t}static async testConnection(){try{let{data:e,error:t}=await i.OQ.from("users").select("id").limit(1);if(t)return console.error("Connection test failed:",t),!1;return!0}catch(e){return console.error("Connection test error:",e),!1}}}let{createUser:c,getUserByInoreaderID:l,createFeed:d,getFeedsByUser:o,createArticle:m,getArticlesByFeed:u,updateArticleReadStatus:h,createFolder:x,getFoldersByUser:f,testConnection:g}=n;function p(){let[e,t]=(0,r.useState)("testing"),[s,c]=(0,r.useState)([]),[l,d]=(0,r.useState)(null),o=e=>{c(t=>[...t,e])},m=async()=>{try{if(o("\uD83D\uDD0D Testing Supabase connection..."),!await n.testConnection())throw Error("Basic connection test failed");o("✅ Basic connection successful");let e=await n.createUser({email:"test-".concat(Date.now(),"@example.com"),inoreader_id:"test_".concat(Date.now())});o("✅ User created: ".concat(e.email));let s=await n.getUserByInoreaderID(e.inoreader_id);o("✅ User retrieved: ".concat(s.email));let a=await n.createFeed({user_id:e.id,inoreader_id:"feed_".concat(Date.now()),title:"Test Feed",url:"https://example.com/rss",unread_count:5});o("✅ Feed created: ".concat(a.title));let r=await n.createArticle({feed_id:a.id,inoreader_id:"article_".concat(Date.now()),title:"Test Article",content:"This is a test article content",url:"https://example.com/article",published_at:new Date().toISOString(),is_read:!1,is_starred:!1});o("✅ Article created: ".concat(r.title));let c=await n.updateArticleReadStatus(r.id,!0);o("✅ Article marked as read: ".concat(c.is_read));let l=await n.createFolder({user_id:e.id,inoreader_id:"folder_".concat(Date.now()),name:"Test Folder"});o("✅ Folder created: ".concat(l.name)),await i.OQ.from("articles").delete().eq("id",r.id),await i.OQ.from("feeds").delete().eq("id",a.id),await i.OQ.from("folders").delete().eq("id",l.id),await i.OQ.from("users").delete().eq("id",e.id),o("\uD83E\uDDF9 Test data cleaned up"),o("\uD83C\uDF89 All Supabase tests passed!"),t("connected")}catch(s){let e=s instanceof Error?s.message:"Unknown error";d(e),o("❌ Test failed: ".concat(e)),t("failed")}};return(0,r.useEffect)(()=>{m()},[]),(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Supabase Integration Test"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Connection Status:"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-sm ".concat("testing"===e?"bg-yellow-100 text-yellow-800":"connected"===e?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"testing"===e?"Testing...":"connected"===e?"Connected":"Failed"})]}),l&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded p-3",children:[(0,a.jsx)("p",{className:"text-red-800 text-sm font-medium",children:"Error:"}),(0,a.jsx)("p",{className:"text-red-700 text-sm",children:l})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Test Results"}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto",children:0===s.length?(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Running tests..."}):(0,a.jsx)("ul",{className:"space-y-1",children:s.map((e,t)=>(0,a.jsx)("li",{className:"text-sm font-mono",children:e},t))})})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Database Schema"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"Tables Created"}),(0,a.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,a.jsx)("li",{children:"✅ users - User authentication and profiles"}),(0,a.jsx)("li",{children:"✅ feeds - RSS feed subscriptions"}),(0,a.jsx)("li",{children:"✅ articles - Article content and metadata"}),(0,a.jsx)("li",{children:"✅ folders - Feed organization"})]})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-green-900 mb-2",children:"Features Tested"}),(0,a.jsxs)("ul",{className:"text-sm text-green-800 space-y-1",children:[(0,a.jsx)("li",{children:"✅ Database connection"}),(0,a.jsx)("li",{children:"✅ User CRUD operations"}),(0,a.jsx)("li",{children:"✅ Feed management"}),(0,a.jsx)("li",{children:"✅ Article operations"}),(0,a.jsx)("li",{children:"✅ Folder organization"}),(0,a.jsx)("li",{children:"✅ Read state management"})]})]})]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 border-t pt-4",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Supabase URL:"})," ","https://rgfxyraamghqnechkppg.supabase.co"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Environment:"})," ","production"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Test Page:"})," /test-supabase"]})]})]})})})}},7205:function(e,t,s){"use strict";s.d(t,{OQ:function(){return c}});var a=s(6580);let r="https://rgfxyraamghqnechkppg.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJnZnh5cmFhbWdocW5lY2hrcHBnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2ODg5NzAsImV4cCI6MjA2ODI2NDk3MH0.hqoXq2YAs6cc96d0baVjZWVdmDW0qytCIHjA-YffSdk";if(!r||!i)throw Error("Missing Supabase environment variables");console.log("[Supabase] Initializing client...");let n=performance.now(),c=(0,a.eI)(r,i,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},db:{schema:"public"}});console.log("[Supabase] Client initialized in ".concat((performance.now()-n).toFixed(2),"ms"))}},function(e){e.O(0,[580,971,117,744],function(){return e(e.s=2206)}),_N_E=e.O()}]);