(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[729],{7231:function(e,t,n){Promise.resolve().then(n.bind(n,6735))},6735:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(7437),s=n(2265),o=n(9087),i=n(2381),a=n(7205);function c(){let[e,t]=(0,s.useState)([]),[n,c]=(0,s.useState)(!1),{loadFeedHierarchy:l}=(0,o.useFeedStore)(),u=async()=>{c(!0);let e=[];e.push("=== Supabase Connection Test ===");let n=performance.now();try{let{data:t,error:r}=await a.OQ.from("users").select("id").limit(1),s=performance.now()-n;r?e.push("❌ Connection failed: ".concat(r.message)):e.push("✅ Connection successful in ".concat(s.toFixed(2),"ms"))}catch(r){let t=performance.now()-n;e.push("❌ Connection error in ".concat(t.toFixed(2),"ms: ").concat(r))}e.push("\n=== Simple Query Test ===");let r=performance.now();try{let{data:t,error:n}=await a.OQ.from("feeds").select("id, title").limit(5),s=performance.now()-r;n?e.push("❌ Query failed: ".concat(n.message)):e.push("✅ Query returned ".concat((null==t?void 0:t.length)||0," feeds in ").concat(s.toFixed(2),"ms"))}catch(n){let t=performance.now()-r;e.push("❌ Query error in ".concat(t.toFixed(2),"ms: ").concat(n))}e.push("\n=== Count Query Test ===");let s=performance.now();try{let{count:t,error:n}=await a.OQ.from("articles").select("*",{count:"exact",head:!0}).eq("is_read",!1).limit(1),r=performance.now()-s;n?e.push("❌ Count query failed: ".concat(n.message)):e.push("✅ Count query returned ".concat(t," unread articles in ").concat(r.toFixed(2),"ms"))}catch(n){let t=performance.now()-s;e.push("❌ Count error in ".concat(t.toFixed(2),"ms: ").concat(n))}e.push("\n=== Full Feed Load Test ==="),e.push("Check browser console for detailed timing logs...");let o=performance.now();try{await l();let t=performance.now()-o;e.push("✅ Feed hierarchy loaded in ".concat(t.toFixed(2),"ms"))}catch(n){let t=performance.now()-o;e.push("❌ Load error in ".concat(t.toFixed(2),"ms: ").concat(n))}t(e),c(!1)};return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Performance Test"}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)(i.z,{onClick:u,disabled:n,className:"mr-4",children:n?"Running Tests...":"Run Performance Test"}),(0,r.jsx)(i.z,{variant:"outline",onClick:()=>t([]),disabled:n,children:"Clear Results"})]}),e.length>0&&(0,r.jsx)("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:(0,r.jsx)("pre",{className:"text-sm font-mono whitespace-pre-wrap",children:e.join("\n")})}),(0,r.jsxs)("div",{className:"mt-8 text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsx)("p",{className:"mb-2",children:"This page tests:"}),(0,r.jsxs)("ul",{className:"list-disc ml-6",children:[(0,r.jsx)("li",{children:"Supabase connection latency"}),(0,r.jsx)("li",{children:"Simple query performance"}),(0,r.jsx)("li",{children:"Count query performance (used for unread counts)"}),(0,r.jsx)("li",{children:"Full feed hierarchy loading"})]}),(0,r.jsx)("p",{className:"mt-4",children:"Open the browser console to see detailed timing logs during the feed load test."})]})]})}},2381:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(7437),s=n(2265),o=n(7053),i=n(535),a=n(3448);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:n,variant:s,size:i,asChild:l=!1,...u}=e,d=l?o.g7:"button";return(0,r.jsx)(d,{className:(0,a.cn)(c({variant:s,size:i,className:n})),ref:t,type:u.type||"button",...u,style:{WebkitTapHighlightColor:"transparent",touchAction:"manipulation",...u.style}})});l.displayName="Button"},7205:function(e,t,n){"use strict";n.d(t,{OQ:function(){return a}});var r=n(6580);let s="https://rgfxyraamghqnechkppg.supabase.co",o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJnZnh5cmFhbWdocW5lY2hrcHBnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2ODg5NzAsImV4cCI6MjA2ODI2NDk3MH0.hqoXq2YAs6cc96d0baVjZWVdmDW0qytCIHjA-YffSdk";if(!s||!o)throw Error("Missing Supabase environment variables");console.log("[Supabase] Initializing client...");let i=performance.now(),a=(0,r.eI)(s,o,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},db:{schema:"public"}});console.log("[Supabase] Client initialized in ".concat((performance.now()-i).toFixed(2),"ms"))},3448:function(e,t,n){"use strict";n.d(t,{cn:function(){return o}});var r=n(1994),s=n(3335);function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,r.W)(t))}},3011:function(e,t,n){"use strict";n.d(t,{U:function(){return c}});var r=n(2265);let s=e=>{let t;let n=new Set,r=(e,r)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=r?r:"object"!=typeof s||null===s)?s:Object.assign({},t,s),n.forEach(n=>n(t,e))}},s=()=>t,o={setState:r,getState:s,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e))},i=t=e(r,s,o);return o},o=e=>e?s(e):s,i=e=>e,a=e=>{let t=o(e),n=e=>(function(e,t=i){let n=r.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return r.useDebugValue(n),n})(t,e);return Object.assign(n,t),n},c=e=>e?a(e):a}},function(e){e.O(0,[569,580,87,971,117,744],function(){return e(e.s=7231)}),_N_E=e.O()}]);