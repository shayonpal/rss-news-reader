(()=>{var e={};e.id=5919,e.ids=[5919],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},8359:()=>{},3739:()=>{},7020:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>D,patchFetch:()=>_,requestAsyncStorage:()=>S,routeModule:()=>I,serverHooks:()=>O,staticGenerationAsyncStorage:()=>b});var s={};r.r(s),r.d(s,{GET:()=>x,POST:()=>q});var i=r(9303),a=r(8716),n=r(670),o=r(7070),c=r(6256);class u{static async createUser(e){let{data:t,error:r}=await c.OQ.from("users").insert(e).select().single();if(r)throw r;return t}static async getUserByInoreaderID(e){let{data:t,error:r}=await c.OQ.from("users").select("*").eq("inoreader_id",e).single();if(r)throw r;return t}static async createFeed(e){let{data:t,error:r}=await c.OQ.from("feeds").insert(e).select().single();if(r)throw r;return t}static async getFeedsByUser(e){let{data:t,error:r}=await c.OQ.from("feeds").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(r)throw r;return t}static async createArticle(e){let{data:t,error:r}=await c.OQ.from("articles").insert(e).select().single();if(r)throw r;return t}static async getArticlesByFeed(e){let{data:t,error:r}=await c.OQ.from("articles").select("*").eq("feed_id",e).order("published_at",{ascending:!1});if(r)throw r;return t}static async updateArticleReadStatus(e,t){let{data:r,error:s}=await c.OQ.from("articles").update({is_read:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw s;return r}static async createFolder(e){let{data:t,error:r}=await c.OQ.from("folders").insert(e).select().single();if(r)throw r;return t}static async getFoldersByUser(e){let{data:t,error:r}=await c.OQ.from("folders").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(r)throw r;return t}static async testConnection(){try{let{data:e,error:t}=await c.OQ.from("users").select("id").limit(1);if(t)return console.error("Connection test failed:",t),!1;return!0}catch(e){return console.error("Connection test error:",e),!1}}}let{createUser:d,getUserByInoreaderID:l,createFeed:p,getFeedsByUser:m,createArticle:f,getArticlesByFeed:h,updateArticleReadStatus:w,createFolder:g,getFoldersByUser:v,testConnection:y}=u;async function x(){try{let e=[];if(e.push("\uD83D\uDD0D Testing server-side Supabase connection..."),!await u.testConnection())throw Error("Server-side connection failed");e.push("✅ Server-side connection successful");let t=await u.createUser({email:`server-test-${Date.now()}@example.com`,inoreader_id:`server_test_${Date.now()}`});e.push(`✅ Server-side user created: ${t.email}`);let r=await u.createFeed({user_id:t.id,inoreader_id:`server_feed_${Date.now()}`,title:"Server Test Feed",url:"https://example.com/server-rss",unread_count:10});return e.push(`✅ Server-side feed created: ${r.title}`),await c.OQ.from("feeds").delete().eq("id",r.id),await c.OQ.from("users").delete().eq("id",t.id),e.push("\uD83E\uDDF9 Server-side test data cleaned up"),e.push("\uD83C\uDF89 All server-side tests passed!"),o.NextResponse.json({success:!0,results:e,timestamp:new Date().toISOString(),environment:"production",supabaseUrl:"https://rgfxyraamghqnechkppg.supabase.co"})}catch(t){let e=t instanceof Error?t.message:"Unknown error";return o.NextResponse.json({success:!1,error:e,timestamp:new Date().toISOString(),environment:"production"},{status:500})}}async function q(){return o.NextResponse.json({message:"Use GET method to run Supabase tests"},{status:405})}let I=new i.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/test-supabase/route",pathname:"/api/test-supabase",filename:"route",bundlePath:"app/api/test-supabase/route"},resolvedPagePath:"/Users/shayon/DevProjects/rss-news-reader/src/app/api/test-supabase/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:S,staticGenerationAsyncStorage:b,serverHooks:O}=I,D="/api/test-supabase/route";function _(){return(0,n.patchFetch)({serverHooks:O,staticGenerationAsyncStorage:b})}},6256:(e,t,r)=>{"use strict";r.d(t,{OQ:()=>o});var s=r(843);let i="https://rgfxyraamghqnechkppg.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJnZnh5cmFhbWdocW5lY2hrcHBnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2ODg5NzAsImV4cCI6MjA2ODI2NDk3MH0.hqoXq2YAs6cc96d0baVjZWVdmDW0qytCIHjA-YffSdk";if(!i||!a)throw Error("Missing Supabase environment variables");console.log("[Supabase] Initializing client...");let n=performance.now(),o=(0,s.eI)(i,a,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},db:{schema:"public"}});console.log(`[Supabase] Client initialized in ${(performance.now()-n).toFixed(2)}ms`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,5972,843],()=>r(7020));module.exports=s})();