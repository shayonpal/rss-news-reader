(()=>{var e={};e.id=9529,e.ids=[9529],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},8089:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c}),t(7183),t(2887),t(7629),t(2523);var r=t(3191),a=t(8716),i=t(7922),l=t.n(i),d=t(5231),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);t.d(s,n);let c=["",{children:["fetch-stats",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7183)),"/Users/shayon/DevProjects/rss-news-reader/src/app/fetch-stats/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2887)),"/Users/shayon/DevProjects/rss-news-reader/src/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"/Users/shayon/DevProjects/rss-news-reader/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,2523)),"/Users/shayon/DevProjects/rss-news-reader/src/app/not-found.tsx"]}],o=["/Users/shayon/DevProjects/rss-news-reader/src/app/fetch-stats/page.tsx"],x="/fetch-stats/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/fetch-stats/page",pathname:"/fetch-stats",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2161:(e,s,t)=>{Promise.resolve().then(t.bind(t,3043))},6333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(2881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9183:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(2881).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},1405:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(2881).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},3043:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(326),a=t(7577),i=t(5047),l=t(1405);let d=(0,t(2881).Z)("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);var n=t(6333),c=t(8393),o=t(9183),x=t(1902),m=t(3159),h=t(1223);function u(){let e=(0,i.useRouter)(),[s,t]=(0,a.useState)(null),[u,p]=(0,a.useState)(!0),[g,y]=(0,a.useState)(null),[j,f]=(0,a.useState)(new Set),v=async()=>{try{p(!0);let e=await fetch("/reader/api/analytics/fetch-stats");if(!e.ok)throw Error("Failed to fetch stats");let s=await e.json();t(s)}catch(e){y(e instanceof Error?e.message:"Failed to load stats")}finally{p(!1)}},N=e=>{f(s=>{let t=new Set(s);return t.has(e)?t.delete(e):t.add(e),t})},b=e=>null===e?"N/A":e<1e3?`${Math.round(e)}ms`:`${(e/1e3).toFixed(1)}s`,k=(e,s=!0)=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Attempts"}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("div",{className:"font-semibold",children:e.total}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:[r.jsx(l.Z,{className:"inline w-3 h-3 mr-1"}),e.auto.total,r.jsx("span",{className:"mx-1",children:"•"}),r.jsx(d,{className:"inline w-3 h-3 mr-1"}),e.manual.total]})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Success"}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"font-semibold text-green-600 dark:text-green-400",children:[e.successful,s&&e.total>0&&(0,r.jsxs)("span",{className:"ml-1 text-sm",children:["(",e.successRate,"%)"]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:[r.jsx(l.Z,{className:"inline w-3 h-3 mr-1"}),e.auto.successful,r.jsx("span",{className:"mx-1",children:"•"}),r.jsx(d,{className:"inline w-3 h-3 mr-1"}),e.manual.successful]})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Failed"}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:(0,h.cn)("font-semibold",e.failed>0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:[e.failed,s&&e.total>0&&e.failed>0&&(0,r.jsxs)("span",{className:"ml-1 text-sm",children:["(",(e.failed/e.total*100).toFixed(1),"%)"]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:[r.jsx(l.Z,{className:"inline w-3 h-3 mr-1"}),e.auto.failed,r.jsx("span",{className:"mx-1",children:"•"}),r.jsx(d,{className:"inline w-3 h-3 mr-1"}),e.manual.failed]})]})]})]});return u?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsx("div",{className:"flex items-center justify-center h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-300 border-t-gray-600 dark:border-gray-600 dark:border-t-gray-300"})})}):g||!s?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsx("div",{className:"flex items-center justify-center h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-600 dark:text-red-400",children:g||"Failed to load stats"}),r.jsx("button",{onClick:v,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Retry"})]})})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("header",{className:"fixed top-0 left-0 right-0 z-10 bg-background border-b",children:(0,r.jsxs)("div",{className:"flex items-center h-[60px] px-4",children:[r.jsx(x.M,{onClick:()=>e.back(),className:"mr-3",children:r.jsx(n.Z,{className:"w-5 h-5"})}),r.jsx("h1",{className:"text-lg font-semibold",children:"Fetch Statistics"})]})}),r.jsx("div",{className:"h-[60px]"}),(0,r.jsxs)("div",{className:"p-4 space-y-6 pb-20",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"OVERALL STATISTICS"}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Today"}),k(s.overall.today)]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"This Month"}),k(s.overall.thisMonth)]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Lifetime"}),k(s.overall.lifetime)]})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"FEEDS WITH ACTIVITY"}),r.jsx("div",{className:"space-y-2",children:s.feeds.filter(e=>e.lifetime.total>0).map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,r.jsxs)("button",{onClick:()=>N(e.feedId),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[j.has(e.feedId)?r.jsx(c.Z,{className:"w-4 h-4 mr-2"}):r.jsx(o.Z,{className:"w-4 h-4 mr-2"}),r.jsx("span",{className:"font-medium",children:e.feedTitle})]}),(0,r.jsxs)("span",{className:(0,h.cn)("text-sm font-medium",e.lifetime.successRate>=95?"text-green-600 dark:text-green-400":e.lifetime.successRate>=80?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:[e.lifetime.successRate,"% success"]})]}),j.has(e.feedId)&&(0,r.jsxs)("div",{className:"px-4 pb-4 grid grid-cols-3 gap-4 border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Today"}),k(e.today,!1),null!==e.today.avgDurationMs&&(0,r.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["Avg: ",b(e.today.avgDurationMs)]})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"This Month"}),k(e.thisMonth,!1),null!==e.thisMonth.avgDurationMs&&(0,r.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["Avg: ",b(e.thisMonth.avgDurationMs)]})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Lifetime"}),k(e.lifetime,!1),null!==e.lifetime.avgDurationMs&&(0,r.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["Avg: ",b(e.lifetime.avgDurationMs)]})]})]})]},e.feedId))})]}),(s.topIssues.problematicFeeds.length>0||s.topIssues.recentFailures.length>0)&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"TOP ISSUES THIS MONTH"}),s.topIssues.problematicFeeds.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Most Problematic Feeds:"}),r.jsx("ul",{className:"space-y-1",children:s.topIssues.problematicFeeds.map((e,s)=>(0,r.jsxs)("li",{className:"text-sm",children:["• ",e.feedTitle," (",e.failureCount," failures)"]},s))})]}),s.topIssues.recentFailures.length>0&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Recent Failed Articles:"}),r.jsx("div",{className:"space-y-3",children:s.topIssues.recentFailures.map((e,s)=>(0,r.jsxs)("div",{className:"border-l-2 border-red-400 pl-3",children:[r.jsx("p",{className:"text-sm font-medium line-clamp-1",children:e.articleTitle}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.feedTitle," • ",(0,m.Q)(new Date(e.timestamp),{addSuffix:!0})]}),e.errorReason&&r.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:e.errorReason})]},s))})]})]})]})]})}},1902:(e,s,t)=>{"use strict";t.d(s,{M:()=>d});var r=t(326),a=t(7577),i=t.n(a),l=t(1664);let d=i().forwardRef(({onPress:e,onClick:s,children:t,...i},d)=>{let n=(0,a.useRef)(!1);return r.jsx(l.z,{ref:d,...i,onClick:t=>{if(t.stopPropagation(),n.current){t.preventDefault(),n.current=!1;return}s?s(t):e&&e()},onTouchStart:()=>{n.current=!0},onTouchEnd:t=>{t.preventDefault(),t.stopPropagation(),e?e():s&&s(t),n.current=!1},style:{...i.style,WebkitTouchCallout:"none",WebkitUserSelect:"none",touchAction:"manipulation"},children:t})});d.displayName="IOSButton"},7183:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`/Users/shayon/DevProjects/rss-news-reader/src/app/fetch-stats/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[9276,4465,5045,4168],()=>t(8089));module.exports=r})();