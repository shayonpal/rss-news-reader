/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/health/app/route";
exports.ids = ["app/api/health/app/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhealth%2Fapp%2Froute&page=%2Fapi%2Fhealth%2Fapp%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhealth%2Fapp%2Froute.ts&appDir=%2FUsers%2Fshayon%2FDevProjects%2Frss-news-reader%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fshayon%2FDevProjects%2Frss-news-reader&isDev=true&tsconfigPath=tsconfig.json&basePath=%2Freader&assetPrefix=%2Freader&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhealth%2Fapp%2Froute&page=%2Fapi%2Fhealth%2Fapp%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhealth%2Fapp%2Froute.ts&appDir=%2FUsers%2Fshayon%2FDevProjects%2Frss-news-reader%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fshayon%2FDevProjects%2Frss-news-reader&isDev=true&tsconfigPath=tsconfig.json&basePath=%2Freader&assetPrefix=%2Freader&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_shayon_DevProjects_rss_news_reader_src_app_api_health_app_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/health/app/route.ts */ \"(rsc)/./src/app/api/health/app/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/health/app/route\",\n        pathname: \"/api/health/app\",\n        filename: \"route\",\n        bundlePath: \"app/api/health/app/route\"\n    },\n    resolvedPagePath: \"/Users/shayon/DevProjects/rss-news-reader/src/app/api/health/app/route.ts\",\n    nextConfigOutput,\n    userland: _Users_shayon_DevProjects_rss_news_reader_src_app_api_health_app_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/health/app/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZoZWFsdGglMkZhcHAlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmhlYWx0aCUyRmFwcCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmhlYWx0aCUyRmFwcCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnNoYXlvbiUyRkRldlByb2plY3RzJTJGcnNzLW5ld3MtcmVhZGVyJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnNoYXlvbiUyRkRldlByb2plY3RzJTJGcnNzLW5ld3MtcmVhZGVyJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JTJGcmVhZGVyJmFzc2V0UHJlZml4PSUyRnJlYWRlciZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN5QjtBQUN0RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3Jzcy1uZXdzLXJlYWRlci8/MTlhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvc2hheW9uL0RldlByb2plY3RzL3Jzcy1uZXdzLXJlYWRlci9zcmMvYXBwL2FwaS9oZWFsdGgvYXBwL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9oZWFsdGgvYXBwL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvaGVhbHRoL2FwcFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvaGVhbHRoL2FwcC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9zaGF5b24vRGV2UHJvamVjdHMvcnNzLW5ld3MtcmVhZGVyL3NyYy9hcHAvYXBpL2hlYWx0aC9hcHAvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2hlYWx0aC9hcHAvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhealth%2Fapp%2Froute&page=%2Fapi%2Fhealth%2Fapp%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhealth%2Fapp%2Froute.ts&appDir=%2FUsers%2Fshayon%2FDevProjects%2Frss-news-reader%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fshayon%2FDevProjects%2Frss-news-reader&isDev=true&tsconfigPath=tsconfig.json&basePath=%2Freader&assetPrefix=%2Freader&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/health/app/route.ts":
/*!*****************************************!*\
  !*** ./src/app/api/health/app/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* reexport safe */ _route__WEBPACK_IMPORTED_MODULE_0__.GET),\n/* harmony export */   dynamic: () => (/* reexport safe */ _route__WEBPACK_IMPORTED_MODULE_0__.dynamic)\n/* harmony export */ });\n/* harmony import */ var _route__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../route */ \"(rsc)/./src/app/api/health/route.ts\");\n// Re-export the main health check endpoint\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9oZWFsdGgvYXBwL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDJDQUEyQztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcnNzLW5ld3MtcmVhZGVyLy4vc3JjL2FwcC9hcGkvaGVhbHRoL2FwcC9yb3V0ZS50cz84MDU5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIFJlLWV4cG9ydCB0aGUgbWFpbiBoZWFsdGggY2hlY2sgZW5kcG9pbnRcbmV4cG9ydCB7IEdFVCwgZHluYW1pYyB9IGZyb20gJy4uL3JvdXRlJzsiXSwibmFtZXMiOlsiR0VUIiwiZHluYW1pYyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/health/app/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/health/route.ts":
/*!*************************************!*\
  !*** ./src/app/api/health/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_health_app_health_check__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/health/app-health-check */ \"(rsc)/./src/lib/health/app-health-check.ts\");\n\n\n// Force dynamic rendering for this API route\nconst dynamic = \"force-dynamic\";\nasync function GET(request) {\n    try {\n        // Check if this is a simple ping\n        const url = new URL(request.url);\n        const isPing = url.searchParams.get(\"ping\") === \"true\";\n        if (isPing) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                status: \"ok\",\n                timestamp: new Date()\n            });\n        }\n        // Perform comprehensive health check\n        const health = await _lib_health_app_health_check__WEBPACK_IMPORTED_MODULE_1__.appHealthCheck.checkHealth();\n        // Determine HTTP status code based on health\n        let statusCode = 200;\n        if (health.status === \"unhealthy\") {\n            statusCode = 503; // Service Unavailable\n        } else if (health.status === \"degraded\") {\n            statusCode = 200; // Still return 200 for degraded, but include status in body\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(health, {\n            status: statusCode\n        });\n    } catch (error) {\n        console.error(\"Health check endpoint error:\", error);\n        // Log the error\n        const { AppHealthCheck } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/health/app-health-check */ \"(rsc)/./src/lib/health/app-health-check.ts\"));\n        AppHealthCheck.logError(`Health check endpoint error: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            status: \"unhealthy\",\n            service: \"rss-reader-app\",\n            uptime: 0,\n            lastActivity: new Date().toISOString(),\n            errorCount: 1,\n            dependencies: {\n                database: \"unknown\",\n                oauth: \"unknown\"\n            },\n            performance: {\n                avgSyncTime: 0,\n                avgDbQueryTime: 0,\n                avgApiCallTime: 0\n            },\n            error: error instanceof Error ? error.message : \"Health check failed\"\n        }, {\n            status: 503\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9oZWFsdGgvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF3RDtBQUNPO0FBRS9ELDZDQUE2QztBQUN0QyxNQUFNRSxVQUFVLGdCQUFnQjtBQUVoQyxlQUFlQyxJQUFJQyxPQUFvQjtJQUM1QyxJQUFJO1FBQ0YsaUNBQWlDO1FBQ2pDLE1BQU1DLE1BQU0sSUFBSUMsSUFBSUYsUUFBUUMsR0FBRztRQUMvQixNQUFNRSxTQUFTRixJQUFJRyxZQUFZLENBQUNDLEdBQUcsQ0FBQyxZQUFZO1FBRWhELElBQUlGLFFBQVE7WUFDVixPQUFPUCxxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDO2dCQUFFQyxRQUFRO2dCQUFNQyxXQUFXLElBQUlDO1lBQU87UUFDakU7UUFFQSxxQ0FBcUM7UUFDckMsTUFBTUMsU0FBUyxNQUFNYix3RUFBY0EsQ0FBQ2MsV0FBVztRQUUvQyw2Q0FBNkM7UUFDN0MsSUFBSUMsYUFBYTtRQUNqQixJQUFJRixPQUFPSCxNQUFNLEtBQUssYUFBYTtZQUNqQ0ssYUFBYSxLQUFLLHNCQUFzQjtRQUMxQyxPQUFPLElBQUlGLE9BQU9ILE1BQU0sS0FBSyxZQUFZO1lBQ3ZDSyxhQUFhLEtBQUssNERBQTREO1FBQ2hGO1FBRUEsT0FBT2hCLHFEQUFZQSxDQUFDVSxJQUFJLENBQUNJLFFBQVE7WUFBRUgsUUFBUUs7UUFBVztJQUN4RCxFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGdDQUFnQ0E7UUFFOUMsZ0JBQWdCO1FBQ2hCLE1BQU0sRUFBRUUsY0FBYyxFQUFFLEdBQUcsTUFBTSx1S0FBTztRQUN4Q0EsZUFBZUMsUUFBUSxDQUFDLENBQUMsNkJBQTZCLEVBQUVILGlCQUFpQkksUUFBUUosTUFBTUssT0FBTyxHQUFHLGdCQUFnQixDQUFDO1FBRWxILE9BQU90QixxREFBWUEsQ0FBQ1UsSUFBSSxDQUN0QjtZQUNFQyxRQUFRO1lBQ1JZLFNBQVM7WUFDVEMsUUFBUTtZQUNSQyxjQUFjLElBQUlaLE9BQU9hLFdBQVc7WUFDcENDLFlBQVk7WUFDWkMsY0FBYztnQkFDWkMsVUFBVTtnQkFDVkMsT0FBTztZQUNUO1lBQ0FDLGFBQWE7Z0JBQ1hDLGFBQWE7Z0JBQ2JDLGdCQUFnQjtnQkFDaEJDLGdCQUFnQjtZQUNsQjtZQUNBakIsT0FBT0EsaUJBQWlCSSxRQUFRSixNQUFNSyxPQUFPLEdBQUc7UUFDbEQsR0FDQTtZQUFFWCxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Jzcy1uZXdzLXJlYWRlci8uL3NyYy9hcHAvYXBpL2hlYWx0aC9yb3V0ZS50cz9mYzk5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBhcHBIZWFsdGhDaGVjayB9IGZyb20gJ0AvbGliL2hlYWx0aC9hcHAtaGVhbHRoLWNoZWNrJztcblxuLy8gRm9yY2UgZHluYW1pYyByZW5kZXJpbmcgZm9yIHRoaXMgQVBJIHJvdXRlXG5leHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBzaW1wbGUgcGluZ1xuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGNvbnN0IGlzUGluZyA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCdwaW5nJykgPT09ICd0cnVlJztcbiAgICBcbiAgICBpZiAoaXNQaW5nKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdGF0dXM6ICdvaycsIHRpbWVzdGFtcDogbmV3IERhdGUoKSB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gUGVyZm9ybSBjb21wcmVoZW5zaXZlIGhlYWx0aCBjaGVja1xuICAgIGNvbnN0IGhlYWx0aCA9IGF3YWl0IGFwcEhlYWx0aENoZWNrLmNoZWNrSGVhbHRoKCk7XG4gICAgXG4gICAgLy8gRGV0ZXJtaW5lIEhUVFAgc3RhdHVzIGNvZGUgYmFzZWQgb24gaGVhbHRoXG4gICAgbGV0IHN0YXR1c0NvZGUgPSAyMDA7XG4gICAgaWYgKGhlYWx0aC5zdGF0dXMgPT09ICd1bmhlYWx0aHknKSB7XG4gICAgICBzdGF0dXNDb2RlID0gNTAzOyAvLyBTZXJ2aWNlIFVuYXZhaWxhYmxlXG4gICAgfSBlbHNlIGlmIChoZWFsdGguc3RhdHVzID09PSAnZGVncmFkZWQnKSB7XG4gICAgICBzdGF0dXNDb2RlID0gMjAwOyAvLyBTdGlsbCByZXR1cm4gMjAwIGZvciBkZWdyYWRlZCwgYnV0IGluY2x1ZGUgc3RhdHVzIGluIGJvZHlcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGhlYWx0aCwgeyBzdGF0dXM6IHN0YXR1c0NvZGUgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignSGVhbHRoIGNoZWNrIGVuZHBvaW50IGVycm9yOicsIGVycm9yKTtcbiAgICBcbiAgICAvLyBMb2cgdGhlIGVycm9yXG4gICAgY29uc3QgeyBBcHBIZWFsdGhDaGVjayB9ID0gYXdhaXQgaW1wb3J0KCdAL2xpYi9oZWFsdGgvYXBwLWhlYWx0aC1jaGVjaycpO1xuICAgIEFwcEhlYWx0aENoZWNrLmxvZ0Vycm9yKGBIZWFsdGggY2hlY2sgZW5kcG9pbnQgZXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBzdGF0dXM6ICd1bmhlYWx0aHknLFxuICAgICAgICBzZXJ2aWNlOiAncnNzLXJlYWRlci1hcHAnLFxuICAgICAgICB1cHRpbWU6IDAsXG4gICAgICAgIGxhc3RBY3Rpdml0eTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBlcnJvckNvdW50OiAxLFxuICAgICAgICBkZXBlbmRlbmNpZXM6IHtcbiAgICAgICAgICBkYXRhYmFzZTogJ3Vua25vd24nLFxuICAgICAgICAgIG9hdXRoOiAndW5rbm93bicsXG4gICAgICAgIH0sXG4gICAgICAgIHBlcmZvcm1hbmNlOiB7XG4gICAgICAgICAgYXZnU3luY1RpbWU6IDAsXG4gICAgICAgICAgYXZnRGJRdWVyeVRpbWU6IDAsXG4gICAgICAgICAgYXZnQXBpQ2FsbFRpbWU6IDAsXG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdIZWFsdGggY2hlY2sgZmFpbGVkJyxcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAzIH1cbiAgICApO1xuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImFwcEhlYWx0aENoZWNrIiwiZHluYW1pYyIsIkdFVCIsInJlcXVlc3QiLCJ1cmwiLCJVUkwiLCJpc1BpbmciLCJzZWFyY2hQYXJhbXMiLCJnZXQiLCJqc29uIiwic3RhdHVzIiwidGltZXN0YW1wIiwiRGF0ZSIsImhlYWx0aCIsImNoZWNrSGVhbHRoIiwic3RhdHVzQ29kZSIsImVycm9yIiwiY29uc29sZSIsIkFwcEhlYWx0aENoZWNrIiwibG9nRXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJzZXJ2aWNlIiwidXB0aW1lIiwibGFzdEFjdGl2aXR5IiwidG9JU09TdHJpbmciLCJlcnJvckNvdW50IiwiZGVwZW5kZW5jaWVzIiwiZGF0YWJhc2UiLCJvYXV0aCIsInBlcmZvcm1hbmNlIiwiYXZnU3luY1RpbWUiLCJhdmdEYlF1ZXJ5VGltZSIsImF2Z0FwaUNhbGxUaW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/health/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/health/app-health-check.ts":
/*!********************************************!*\
  !*** ./src/lib/health/app-health-check.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppHealthCheck: () => (/* binding */ AppHealthCheck),\n/* harmony export */   appHealthCheck: () => (/* binding */ appHealthCheck)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n// Enhanced health check for the main Next.js application\n\n\n\n// Track service start time\nconst SERVICE_START_TIME = Date.now();\n// In-memory error tracking (last hour)\nconst errorLog = [];\n// Performance metrics tracking (last 100 operations)\nconst performanceMetrics = {\n    dbQueries: [],\n    apiCalls: [],\n    syncOperations: []\n};\nclass AppHealthCheck {\n    constructor(){\n        // Initialize Supabase client for health checks\n        this.supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__.createClient)(\"https://rgfxyraamghqnechkppg.supabase.co\", process.env.SUPABASE_SERVICE_ROLE_KEY);\n    }\n    static getInstance() {\n        if (!AppHealthCheck.instance) {\n            AppHealthCheck.instance = new AppHealthCheck();\n        }\n        return AppHealthCheck.instance;\n    }\n    async checkHealth() {\n        const services = [];\n        // Check database connectivity\n        const dbHealth = await this.checkDatabase();\n        services.push(dbHealth);\n        // Check OAuth token validity\n        const authHealth = await this.checkOAuthTokens();\n        services.push(authHealth);\n        // Calculate overall status\n        const overall = this.calculateOverallStatus(services);\n        // Get error count from last hour\n        const oneHourAgo = Date.now() - 60 * 60 * 1000;\n        const recentErrors = errorLog.filter((e)=>e.timestamp > oneHourAgo).length;\n        // Calculate uptime\n        const uptimeSeconds = Math.floor((Date.now() - SERVICE_START_TIME) / 1000);\n        // Calculate average performance metrics\n        const avgDbQueryTime = this.calculateAverage(performanceMetrics.dbQueries);\n        const avgApiCallTime = this.calculateAverage(performanceMetrics.apiCalls);\n        const avgSyncTime = this.calculateAverage(performanceMetrics.syncOperations);\n        // Write health check to JSONL log\n        await this.logHealthCheck({\n            timestamp: new Date().toISOString(),\n            service: \"rss-reader-app\",\n            status: overall,\n            uptime: uptimeSeconds,\n            errorCount: recentErrors,\n            performance: {\n                avgDbQueryTime,\n                avgApiCallTime,\n                avgSyncTime\n            }\n        });\n        return {\n            status: overall,\n            service: \"rss-reader-app\",\n            uptime: uptimeSeconds,\n            lastActivity: new Date().toISOString(),\n            errorCount: recentErrors,\n            dependencies: {\n                database: dbHealth.status,\n                oauth: authHealth.status\n            },\n            performance: {\n                avgDbQueryTime,\n                avgApiCallTime,\n                avgSyncTime\n            },\n            details: {\n                services\n            }\n        };\n    }\n    async checkDatabase() {\n        const checks = [];\n        try {\n            const start = Date.now();\n            // Test basic connectivity with a simple query\n            const { data, error } = await this.supabase.from(\"system_config\").select(\"key\").limit(1).single();\n            const duration = Date.now() - start;\n            // Track performance\n            this.trackPerformance(\"dbQueries\", duration);\n            if (error) {\n                checks.push({\n                    name: \"connectivity\",\n                    status: \"unhealthy\",\n                    message: \"Database connection failed\",\n                    duration,\n                    error: error.message\n                });\n            } else {\n                checks.push({\n                    name: \"connectivity\",\n                    status: \"healthy\",\n                    message: \"Database connection successful\",\n                    duration\n                });\n                // Check database performance\n                // Threshold: 300ms for degraded, 1000ms for unhealthy\n                if (duration > 1000) {\n                    checks.push({\n                        name: \"performance\",\n                        status: \"unhealthy\",\n                        message: `Database response very slow: ${duration}ms`,\n                        duration\n                    });\n                } else if (duration > 300) {\n                    checks.push({\n                        name: \"performance\",\n                        status: \"degraded\",\n                        message: `Database response slow: ${duration}ms`,\n                        duration\n                    });\n                } else {\n                    checks.push({\n                        name: \"performance\",\n                        status: \"healthy\",\n                        message: `Database response time: ${duration}ms`,\n                        duration\n                    });\n                }\n            }\n        } catch (error) {\n            checks.push({\n                name: \"connectivity\",\n                status: \"unhealthy\",\n                message: \"Database check failed\",\n                error: error instanceof Error ? error.message : \"Unknown error\"\n            });\n        }\n        const status = this.calculateServiceStatus(checks);\n        return {\n            name: \"database\",\n            displayName: \"Supabase Database\",\n            status,\n            lastCheck: new Date(),\n            message: this.getServiceMessage(\"database\", status),\n            checks\n        };\n    }\n    async checkOAuthTokens() {\n        const checks = [];\n        try {\n            // Check if token file exists\n            const tokenPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.env.HOME || \"/Users/shayon\", \".rss-reader\", \"tokens.json\");\n            const exists = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().access(tokenPath).then(()=>true).catch(()=>false);\n            if (!exists) {\n                checks.push({\n                    name: \"token-file\",\n                    status: \"unhealthy\",\n                    message: \"OAuth token file not found\"\n                });\n            } else {\n                // Read and check token validity\n                const tokenData = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().readFile(tokenPath, \"utf-8\");\n                const tokens = JSON.parse(tokenData);\n                if (!tokens.encrypted) {\n                    checks.push({\n                        name: \"token-file\",\n                        status: \"unhealthy\",\n                        message: \"OAuth tokens not properly encrypted\"\n                    });\n                } else {\n                    // Check token existence (we can't decrypt to check expiry without the key)\n                    // Tokens typically last 1 year from creation\n                    const fileStats = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().stat(tokenPath);\n                    const tokenAge = Date.now() - fileStats.mtime.getTime();\n                    const daysOld = Math.floor(tokenAge / (1000 * 60 * 60 * 24));\n                    // Assume tokens expire after 365 days\n                    const daysRemaining = Math.max(0, 365 - daysOld);\n                    if (daysRemaining < 30) {\n                        checks.push({\n                            name: \"token-validity\",\n                            status: \"degraded\",\n                            message: `OAuth tokens may be expiring soon (approx ${daysRemaining} days left)`\n                        });\n                    } else {\n                        checks.push({\n                            name: \"token-validity\",\n                            status: \"healthy\",\n                            message: `OAuth tokens valid (approx ${daysRemaining} days remaining)`\n                        });\n                    }\n                }\n            }\n        } catch (error) {\n            checks.push({\n                name: \"oauth\",\n                status: \"unhealthy\",\n                message: \"OAuth check failed\",\n                error: error instanceof Error ? error.message : \"Unknown error\"\n            });\n        }\n        const status = this.calculateServiceStatus(checks);\n        return {\n            name: \"oauth\",\n            displayName: \"OAuth Authentication\",\n            status,\n            lastCheck: new Date(),\n            message: this.getServiceMessage(\"oauth\", status),\n            checks\n        };\n    }\n    calculateOverallStatus(services) {\n        const statuses = services.map((s)=>s.status);\n        if (statuses.includes(\"unhealthy\")) {\n            return \"unhealthy\";\n        } else if (statuses.includes(\"degraded\")) {\n            return \"degraded\";\n        }\n        return \"healthy\";\n    }\n    calculateServiceStatus(checks) {\n        const statuses = checks.map((c)=>c.status);\n        if (statuses.includes(\"unhealthy\")) {\n            return \"unhealthy\";\n        } else if (statuses.includes(\"degraded\")) {\n            return \"degraded\";\n        }\n        return \"healthy\";\n    }\n    getServiceMessage(service, status) {\n        const messages = {\n            healthy: `${service} is operating normally`,\n            degraded: `${service} is experiencing minor issues`,\n            unhealthy: `${service} is experiencing major issues`,\n            unknown: `${service} status cannot be determined`\n        };\n        return messages[status];\n    }\n    trackPerformance(metric, duration) {\n        const metrics = performanceMetrics[metric];\n        metrics.push(duration);\n        // Keep only last 100 measurements\n        if (metrics.length > 100) {\n            metrics.shift();\n        }\n    }\n    calculateAverage(values) {\n        if (values.length === 0) return 0;\n        const sum = values.reduce((a, b)=>a + b, 0);\n        return Math.round(sum / values.length);\n    }\n    async logHealthCheck(data) {\n        try {\n            const logPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"logs\", \"health-checks.jsonl\");\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().mkdir(path__WEBPACK_IMPORTED_MODULE_1___default().dirname(logPath), {\n                recursive: true\n            });\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().appendFile(logPath, JSON.stringify(data) + \"\\n\");\n        } catch (error) {\n            console.error(\"Failed to log health check:\", error);\n        }\n    }\n    // Public method to log errors (called from other parts of the app)\n    static logError(error) {\n        errorLog.push({\n            timestamp: Date.now(),\n            error\n        });\n        // Keep only last hour of errors\n        const oneHourAgo = Date.now() - 60 * 60 * 1000;\n        while(errorLog.length > 0 && errorLog[0].timestamp < oneHourAgo){\n            errorLog.shift();\n        }\n    }\n    // Public method to track performance (called from other parts of the app)\n    static trackMetric(type, duration) {\n        const instance = AppHealthCheck.getInstance();\n        instance.trackPerformance(type, duration);\n    }\n}\nconst appHealthCheck = AppHealthCheck.getInstance();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2hlYWx0aC9hcHAtaGVhbHRoLWNoZWNrLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSx5REFBeUQ7QUFDSjtBQU94QjtBQUNMO0FBRXhCLDJCQUEyQjtBQUMzQixNQUFNRyxxQkFBcUJDLEtBQUtDLEdBQUc7QUFFbkMsdUNBQXVDO0FBQ3ZDLE1BQU1DLFdBQW1ELEVBQUU7QUFFM0QscURBQXFEO0FBQ3JELE1BQU1DLHFCQUFxQjtJQUN6QkMsV0FBVyxFQUFFO0lBQ2JDLFVBQVUsRUFBRTtJQUNaQyxnQkFBZ0IsRUFBRTtBQUNwQjtBQUVPLE1BQU1DO0lBSVgsYUFBc0I7UUFDcEIsK0NBQStDO1FBQy9DLElBQUksQ0FBQ0MsUUFBUSxHQUFHWixtRUFBWUEsQ0FDMUJhLDBDQUFvQyxFQUNwQ0EsUUFBUUMsR0FBRyxDQUFDRSx5QkFBeUI7SUFFekM7SUFFQSxPQUFPQyxjQUE4QjtRQUNuQyxJQUFJLENBQUNOLGVBQWVPLFFBQVEsRUFBRTtZQUM1QlAsZUFBZU8sUUFBUSxHQUFHLElBQUlQO1FBQ2hDO1FBQ0EsT0FBT0EsZUFBZU8sUUFBUTtJQUNoQztJQUVBLE1BQU1DLGNBQXFDO1FBQ3pDLE1BQU1DLFdBQTRCLEVBQUU7UUFFcEMsOEJBQThCO1FBQzlCLE1BQU1DLFdBQVcsTUFBTSxJQUFJLENBQUNDLGFBQWE7UUFDekNGLFNBQVNHLElBQUksQ0FBQ0Y7UUFFZCw2QkFBNkI7UUFDN0IsTUFBTUcsYUFBYSxNQUFNLElBQUksQ0FBQ0MsZ0JBQWdCO1FBQzlDTCxTQUFTRyxJQUFJLENBQUNDO1FBRWQsMkJBQTJCO1FBQzNCLE1BQU1FLFVBQVUsSUFBSSxDQUFDQyxzQkFBc0IsQ0FBQ1A7UUFFNUMsaUNBQWlDO1FBQ2pDLE1BQU1RLGFBQWF4QixLQUFLQyxHQUFHLEtBQUssS0FBSyxLQUFLO1FBQzFDLE1BQU13QixlQUFldkIsU0FBU3dCLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsU0FBUyxHQUFHSixZQUFZSyxNQUFNO1FB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RCxFQUFFLE9BQU9DLE9BQU87WUFDZDZELFFBQVE3RCxLQUFLLENBQUMsK0JBQStCQTtRQUMvQztJQUNGO0lBRUEsbUVBQW1FO0lBQ25FLE9BQU84RCxTQUFTOUQsS0FBYSxFQUFFO1FBQzdCbEQsU0FBU2lCLElBQUksQ0FBQztZQUNaUyxXQUFXNUIsS0FBS0MsR0FBRztZQUNuQm1EO1FBQ0Y7UUFFQSxnQ0FBZ0M7UUFDaEMsTUFBTTVCLGFBQWF4QixLQUFLQyxHQUFHLEtBQUssS0FBSyxLQUFLO1FBQzFDLE1BQU9DLFNBQVMyQixNQUFNLEdBQUcsS0FBSzNCLFFBQVEsQ0FBQyxFQUFFLENBQUMwQixTQUFTLEdBQUdKLFdBQVk7WUFDaEV0QixTQUFTaUcsS0FBSztRQUNoQjtJQUNGO0lBRUEsMEVBQTBFO0lBQzFFLE9BQU9nQixZQUFZQyxJQUFpRCxFQUFFM0QsUUFBZ0IsRUFBRTtRQUN0RixNQUFNM0MsV0FBV1AsZUFBZU0sV0FBVztRQUMzQ0MsU0FBUzRDLGdCQUFnQixDQUFDMEQsTUFBTTNEO0lBQ2xDO0FBQ0Y7QUFFTyxNQUFNNEQsaUJBQWlCOUcsZUFBZU0sV0FBVyxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcnNzLW5ld3MtcmVhZGVyLy4vc3JjL2xpYi9oZWFsdGgvYXBwLWhlYWx0aC1jaGVjay50cz84ZTkyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEVuaGFuY2VkIGhlYWx0aCBjaGVjayBmb3IgdGhlIG1haW4gTmV4dC5qcyBhcHBsaWNhdGlvblxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcbmltcG9ydCB0eXBlIHtcbiAgU3lzdGVtSGVhbHRoLFxuICBTZXJ2aWNlSGVhbHRoLFxuICBIZWFsdGhTdGF0dXMsXG4gIENvbXBvbmVudEhlYWx0aENoZWNrLFxufSBmcm9tICdAL3R5cGVzL2hlYWx0aCc7XG5pbXBvcnQgZnMgZnJvbSAnZnMvcHJvbWlzZXMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbi8vIFRyYWNrIHNlcnZpY2Ugc3RhcnQgdGltZVxuY29uc3QgU0VSVklDRV9TVEFSVF9USU1FID0gRGF0ZS5ub3coKTtcblxuLy8gSW4tbWVtb3J5IGVycm9yIHRyYWNraW5nIChsYXN0IGhvdXIpXG5jb25zdCBlcnJvckxvZzogeyB0aW1lc3RhbXA6IG51bWJlcjsgZXJyb3I6IHN0cmluZyB9W10gPSBbXTtcblxuLy8gUGVyZm9ybWFuY2UgbWV0cmljcyB0cmFja2luZyAobGFzdCAxMDAgb3BlcmF0aW9ucylcbmNvbnN0IHBlcmZvcm1hbmNlTWV0cmljcyA9IHtcbiAgZGJRdWVyaWVzOiBbXSBhcyBudW1iZXJbXSxcbiAgYXBpQ2FsbHM6IFtdIGFzIG51bWJlcltdLFxuICBzeW5jT3BlcmF0aW9uczogW10gYXMgbnVtYmVyW10sXG59O1xuXG5leHBvcnQgY2xhc3MgQXBwSGVhbHRoQ2hlY2sge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogQXBwSGVhbHRoQ2hlY2s7XG4gIHByaXZhdGUgc3VwYWJhc2U6IGFueTtcbiAgXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gSW5pdGlhbGl6ZSBTdXBhYmFzZSBjbGllbnQgZm9yIGhlYWx0aCBjaGVja3NcbiAgICB0aGlzLnN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KFxuICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcbiAgICAgIHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkhXG4gICAgKTtcbiAgfVxuICBcbiAgc3RhdGljIGdldEluc3RhbmNlKCk6IEFwcEhlYWx0aENoZWNrIHtcbiAgICBpZiAoIUFwcEhlYWx0aENoZWNrLmluc3RhbmNlKSB7XG4gICAgICBBcHBIZWFsdGhDaGVjay5pbnN0YW5jZSA9IG5ldyBBcHBIZWFsdGhDaGVjaygpO1xuICAgIH1cbiAgICByZXR1cm4gQXBwSGVhbHRoQ2hlY2suaW5zdGFuY2U7XG4gIH1cbiAgXG4gIGFzeW5jIGNoZWNrSGVhbHRoKCk6IFByb21pc2U8U3lzdGVtSGVhbHRoPiB7XG4gICAgY29uc3Qgc2VydmljZXM6IFNlcnZpY2VIZWFsdGhbXSA9IFtdO1xuICAgIFxuICAgIC8vIENoZWNrIGRhdGFiYXNlIGNvbm5lY3Rpdml0eVxuICAgIGNvbnN0IGRiSGVhbHRoID0gYXdhaXQgdGhpcy5jaGVja0RhdGFiYXNlKCk7XG4gICAgc2VydmljZXMucHVzaChkYkhlYWx0aCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgT0F1dGggdG9rZW4gdmFsaWRpdHlcbiAgICBjb25zdCBhdXRoSGVhbHRoID0gYXdhaXQgdGhpcy5jaGVja09BdXRoVG9rZW5zKCk7XG4gICAgc2VydmljZXMucHVzaChhdXRoSGVhbHRoKTtcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgb3ZlcmFsbCBzdGF0dXNcbiAgICBjb25zdCBvdmVyYWxsID0gdGhpcy5jYWxjdWxhdGVPdmVyYWxsU3RhdHVzKHNlcnZpY2VzKTtcbiAgICBcbiAgICAvLyBHZXQgZXJyb3IgY291bnQgZnJvbSBsYXN0IGhvdXJcbiAgICBjb25zdCBvbmVIb3VyQWdvID0gRGF0ZS5ub3coKSAtIDYwICogNjAgKiAxMDAwO1xuICAgIGNvbnN0IHJlY2VudEVycm9ycyA9IGVycm9yTG9nLmZpbHRlcihlID0+IGUudGltZXN0YW1wID4gb25lSG91ckFnbykubGVuZ3RoO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSB1cHRpbWVcbiAgICBjb25zdCB1cHRpbWVTZWNvbmRzID0gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIFNFUlZJQ0VfU1RBUlRfVElNRSkgLyAxMDAwKTtcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgYXZlcmFnZSBwZXJmb3JtYW5jZSBtZXRyaWNzXG4gICAgY29uc3QgYXZnRGJRdWVyeVRpbWUgPSB0aGlzLmNhbGN1bGF0ZUF2ZXJhZ2UocGVyZm9ybWFuY2VNZXRyaWNzLmRiUXVlcmllcyk7XG4gICAgY29uc3QgYXZnQXBpQ2FsbFRpbWUgPSB0aGlzLmNhbGN1bGF0ZUF2ZXJhZ2UocGVyZm9ybWFuY2VNZXRyaWNzLmFwaUNhbGxzKTtcbiAgICBjb25zdCBhdmdTeW5jVGltZSA9IHRoaXMuY2FsY3VsYXRlQXZlcmFnZShwZXJmb3JtYW5jZU1ldHJpY3Muc3luY09wZXJhdGlvbnMpO1xuICAgIFxuICAgIC8vIFdyaXRlIGhlYWx0aCBjaGVjayB0byBKU09OTCBsb2dcbiAgICBhd2FpdCB0aGlzLmxvZ0hlYWx0aENoZWNrKHtcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgc2VydmljZTogJ3Jzcy1yZWFkZXItYXBwJyxcbiAgICAgIHN0YXR1czogb3ZlcmFsbCxcbiAgICAgIHVwdGltZTogdXB0aW1lU2Vjb25kcyxcbiAgICAgIGVycm9yQ291bnQ6IHJlY2VudEVycm9ycyxcbiAgICAgIHBlcmZvcm1hbmNlOiB7XG4gICAgICAgIGF2Z0RiUXVlcnlUaW1lLFxuICAgICAgICBhdmdBcGlDYWxsVGltZSxcbiAgICAgICAgYXZnU3luY1RpbWUsXG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1czogb3ZlcmFsbCxcbiAgICAgIHNlcnZpY2U6ICdyc3MtcmVhZGVyLWFwcCcsXG4gICAgICB1cHRpbWU6IHVwdGltZVNlY29uZHMsXG4gICAgICBsYXN0QWN0aXZpdHk6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGVycm9yQ291bnQ6IHJlY2VudEVycm9ycyxcbiAgICAgIGRlcGVuZGVuY2llczoge1xuICAgICAgICBkYXRhYmFzZTogZGJIZWFsdGguc3RhdHVzLFxuICAgICAgICBvYXV0aDogYXV0aEhlYWx0aC5zdGF0dXMsXG4gICAgICB9LFxuICAgICAgcGVyZm9ybWFuY2U6IHtcbiAgICAgICAgYXZnRGJRdWVyeVRpbWUsXG4gICAgICAgIGF2Z0FwaUNhbGxUaW1lLFxuICAgICAgICBhdmdTeW5jVGltZSxcbiAgICAgIH0sXG4gICAgICBkZXRhaWxzOiB7XG4gICAgICAgIHNlcnZpY2VzLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIFxuICBwcml2YXRlIGFzeW5jIGNoZWNrRGF0YWJhc2UoKTogUHJvbWlzZTxTZXJ2aWNlSGVhbHRoPiB7XG4gICAgY29uc3QgY2hlY2tzOiBDb21wb25lbnRIZWFsdGhDaGVja1tdID0gW107XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICAgIFxuICAgICAgLy8gVGVzdCBiYXNpYyBjb25uZWN0aXZpdHkgd2l0aCBhIHNpbXBsZSBxdWVyeVxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5zdXBhYmFzZVxuICAgICAgICAuZnJvbSgnc3lzdGVtX2NvbmZpZycpXG4gICAgICAgIC5zZWxlY3QoJ2tleScpXG4gICAgICAgIC5saW1pdCgxKVxuICAgICAgICAuc2luZ2xlKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0O1xuICAgICAgXG4gICAgICAvLyBUcmFjayBwZXJmb3JtYW5jZVxuICAgICAgdGhpcy50cmFja1BlcmZvcm1hbmNlKCdkYlF1ZXJpZXMnLCBkdXJhdGlvbik7XG4gICAgICBcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjaGVja3MucHVzaCh7XG4gICAgICAgICAgbmFtZTogJ2Nvbm5lY3Rpdml0eScsXG4gICAgICAgICAgc3RhdHVzOiAndW5oZWFsdGh5JyxcbiAgICAgICAgICBtZXNzYWdlOiAnRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnLFxuICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoZWNrcy5wdXNoKHtcbiAgICAgICAgICBuYW1lOiAnY29ubmVjdGl2aXR5JyxcbiAgICAgICAgICBzdGF0dXM6ICdoZWFsdGh5JyxcbiAgICAgICAgICBtZXNzYWdlOiAnRGF0YWJhc2UgY29ubmVjdGlvbiBzdWNjZXNzZnVsJyxcbiAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBkYXRhYmFzZSBwZXJmb3JtYW5jZVxuICAgICAgICAvLyBUaHJlc2hvbGQ6IDMwMG1zIGZvciBkZWdyYWRlZCwgMTAwMG1zIGZvciB1bmhlYWx0aHlcbiAgICAgICAgaWYgKGR1cmF0aW9uID4gMTAwMCkge1xuICAgICAgICAgIGNoZWNrcy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJmb3JtYW5jZScsXG4gICAgICAgICAgICBzdGF0dXM6ICd1bmhlYWx0aHknLFxuICAgICAgICAgICAgbWVzc2FnZTogYERhdGFiYXNlIHJlc3BvbnNlIHZlcnkgc2xvdzogJHtkdXJhdGlvbn1tc2AsXG4gICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChkdXJhdGlvbiA+IDMwMCkge1xuICAgICAgICAgIGNoZWNrcy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJmb3JtYW5jZScsXG4gICAgICAgICAgICBzdGF0dXM6ICdkZWdyYWRlZCcsXG4gICAgICAgICAgICBtZXNzYWdlOiBgRGF0YWJhc2UgcmVzcG9uc2Ugc2xvdzogJHtkdXJhdGlvbn1tc2AsXG4gICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGVja3MucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyZm9ybWFuY2UnLFxuICAgICAgICAgICAgc3RhdHVzOiAnaGVhbHRoeScsXG4gICAgICAgICAgICBtZXNzYWdlOiBgRGF0YWJhc2UgcmVzcG9uc2UgdGltZTogJHtkdXJhdGlvbn1tc2AsXG4gICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjaGVja3MucHVzaCh7XG4gICAgICAgIG5hbWU6ICdjb25uZWN0aXZpdHknLFxuICAgICAgICBzdGF0dXM6ICd1bmhlYWx0aHknLFxuICAgICAgICBtZXNzYWdlOiAnRGF0YWJhc2UgY2hlY2sgZmFpbGVkJyxcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMuY2FsY3VsYXRlU2VydmljZVN0YXR1cyhjaGVja3MpO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiAnZGF0YWJhc2UnLFxuICAgICAgZGlzcGxheU5hbWU6ICdTdXBhYmFzZSBEYXRhYmFzZScsXG4gICAgICBzdGF0dXMsXG4gICAgICBsYXN0Q2hlY2s6IG5ldyBEYXRlKCksXG4gICAgICBtZXNzYWdlOiB0aGlzLmdldFNlcnZpY2VNZXNzYWdlKCdkYXRhYmFzZScsIHN0YXR1cyksXG4gICAgICBjaGVja3MsXG4gICAgfTtcbiAgfVxuICBcbiAgcHJpdmF0ZSBhc3luYyBjaGVja09BdXRoVG9rZW5zKCk6IFByb21pc2U8U2VydmljZUhlYWx0aD4ge1xuICAgIGNvbnN0IGNoZWNrczogQ29tcG9uZW50SGVhbHRoQ2hlY2tbXSA9IFtdO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBDaGVjayBpZiB0b2tlbiBmaWxlIGV4aXN0c1xuICAgICAgY29uc3QgdG9rZW5QYXRoID0gcGF0aC5qb2luKFxuICAgICAgICBwcm9jZXNzLmVudi5IT01FIHx8ICcvVXNlcnMvc2hheW9uJyxcbiAgICAgICAgJy5yc3MtcmVhZGVyJyxcbiAgICAgICAgJ3Rva2Vucy5qc29uJ1xuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc3QgZXhpc3RzID0gYXdhaXQgZnMuYWNjZXNzKHRva2VuUGF0aCkudGhlbigoKSA9PiB0cnVlKS5jYXRjaCgoKSA9PiBmYWxzZSk7XG4gICAgICBcbiAgICAgIGlmICghZXhpc3RzKSB7XG4gICAgICAgIGNoZWNrcy5wdXNoKHtcbiAgICAgICAgICBuYW1lOiAndG9rZW4tZmlsZScsXG4gICAgICAgICAgc3RhdHVzOiAndW5oZWFsdGh5JyxcbiAgICAgICAgICBtZXNzYWdlOiAnT0F1dGggdG9rZW4gZmlsZSBub3QgZm91bmQnLFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlYWQgYW5kIGNoZWNrIHRva2VuIHZhbGlkaXR5XG4gICAgICAgIGNvbnN0IHRva2VuRGF0YSA9IGF3YWl0IGZzLnJlYWRGaWxlKHRva2VuUGF0aCwgJ3V0Zi04Jyk7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IEpTT04ucGFyc2UodG9rZW5EYXRhKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghdG9rZW5zLmVuY3J5cHRlZCkge1xuICAgICAgICAgIGNoZWNrcy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6ICd0b2tlbi1maWxlJyxcbiAgICAgICAgICAgIHN0YXR1czogJ3VuaGVhbHRoeScsXG4gICAgICAgICAgICBtZXNzYWdlOiAnT0F1dGggdG9rZW5zIG5vdCBwcm9wZXJseSBlbmNyeXB0ZWQnLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIENoZWNrIHRva2VuIGV4aXN0ZW5jZSAod2UgY2FuJ3QgZGVjcnlwdCB0byBjaGVjayBleHBpcnkgd2l0aG91dCB0aGUga2V5KVxuICAgICAgICAgIC8vIFRva2VucyB0eXBpY2FsbHkgbGFzdCAxIHllYXIgZnJvbSBjcmVhdGlvblxuICAgICAgICAgIGNvbnN0IGZpbGVTdGF0cyA9IGF3YWl0IGZzLnN0YXQodG9rZW5QYXRoKTtcbiAgICAgICAgICBjb25zdCB0b2tlbkFnZSA9IERhdGUubm93KCkgLSBmaWxlU3RhdHMubXRpbWUuZ2V0VGltZSgpO1xuICAgICAgICAgIGNvbnN0IGRheXNPbGQgPSBNYXRoLmZsb29yKHRva2VuQWdlIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBc3N1bWUgdG9rZW5zIGV4cGlyZSBhZnRlciAzNjUgZGF5c1xuICAgICAgICAgIGNvbnN0IGRheXNSZW1haW5pbmcgPSBNYXRoLm1heCgwLCAzNjUgLSBkYXlzT2xkKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZGF5c1JlbWFpbmluZyA8IDMwKSB7IC8vIExlc3MgdGhhbiAzMCBkYXlzIHJlbWFpbmluZ1xuICAgICAgICAgICAgY2hlY2tzLnB1c2goe1xuICAgICAgICAgICAgICBuYW1lOiAndG9rZW4tdmFsaWRpdHknLFxuICAgICAgICAgICAgICBzdGF0dXM6ICdkZWdyYWRlZCcsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGBPQXV0aCB0b2tlbnMgbWF5IGJlIGV4cGlyaW5nIHNvb24gKGFwcHJveCAke2RheXNSZW1haW5pbmd9IGRheXMgbGVmdClgLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoZWNrcy5wdXNoKHtcbiAgICAgICAgICAgICAgbmFtZTogJ3Rva2VuLXZhbGlkaXR5JyxcbiAgICAgICAgICAgICAgc3RhdHVzOiAnaGVhbHRoeScsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGBPQXV0aCB0b2tlbnMgdmFsaWQgKGFwcHJveCAke2RheXNSZW1haW5pbmd9IGRheXMgcmVtYWluaW5nKWAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY2hlY2tzLnB1c2goe1xuICAgICAgICBuYW1lOiAnb2F1dGgnLFxuICAgICAgICBzdGF0dXM6ICd1bmhlYWx0aHknLFxuICAgICAgICBtZXNzYWdlOiAnT0F1dGggY2hlY2sgZmFpbGVkJyxcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMuY2FsY3VsYXRlU2VydmljZVN0YXR1cyhjaGVja3MpO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiAnb2F1dGgnLFxuICAgICAgZGlzcGxheU5hbWU6ICdPQXV0aCBBdXRoZW50aWNhdGlvbicsXG4gICAgICBzdGF0dXMsXG4gICAgICBsYXN0Q2hlY2s6IG5ldyBEYXRlKCksXG4gICAgICBtZXNzYWdlOiB0aGlzLmdldFNlcnZpY2VNZXNzYWdlKCdvYXV0aCcsIHN0YXR1cyksXG4gICAgICBjaGVja3MsXG4gICAgfTtcbiAgfVxuICBcbiAgcHJpdmF0ZSBjYWxjdWxhdGVPdmVyYWxsU3RhdHVzKHNlcnZpY2VzOiBTZXJ2aWNlSGVhbHRoW10pOiBIZWFsdGhTdGF0dXMge1xuICAgIGNvbnN0IHN0YXR1c2VzID0gc2VydmljZXMubWFwKHMgPT4gcy5zdGF0dXMpO1xuICAgIFxuICAgIGlmIChzdGF0dXNlcy5pbmNsdWRlcygndW5oZWFsdGh5JykpIHtcbiAgICAgIHJldHVybiAndW5oZWFsdGh5JztcbiAgICB9IGVsc2UgaWYgKHN0YXR1c2VzLmluY2x1ZGVzKCdkZWdyYWRlZCcpKSB7XG4gICAgICByZXR1cm4gJ2RlZ3JhZGVkJztcbiAgICB9XG4gICAgcmV0dXJuICdoZWFsdGh5JztcbiAgfVxuICBcbiAgcHJpdmF0ZSBjYWxjdWxhdGVTZXJ2aWNlU3RhdHVzKGNoZWNrczogQ29tcG9uZW50SGVhbHRoQ2hlY2tbXSk6IEhlYWx0aFN0YXR1cyB7XG4gICAgY29uc3Qgc3RhdHVzZXMgPSBjaGVja3MubWFwKGMgPT4gYy5zdGF0dXMpO1xuICAgIFxuICAgIGlmIChzdGF0dXNlcy5pbmNsdWRlcygndW5oZWFsdGh5JykpIHtcbiAgICAgIHJldHVybiAndW5oZWFsdGh5JztcbiAgICB9IGVsc2UgaWYgKHN0YXR1c2VzLmluY2x1ZGVzKCdkZWdyYWRlZCcpKSB7XG4gICAgICByZXR1cm4gJ2RlZ3JhZGVkJztcbiAgICB9XG4gICAgcmV0dXJuICdoZWFsdGh5JztcbiAgfVxuICBcbiAgcHJpdmF0ZSBnZXRTZXJ2aWNlTWVzc2FnZShzZXJ2aWNlOiBzdHJpbmcsIHN0YXR1czogSGVhbHRoU3RhdHVzKTogc3RyaW5nIHtcbiAgICBjb25zdCBtZXNzYWdlcyA9IHtcbiAgICAgIGhlYWx0aHk6IGAke3NlcnZpY2V9IGlzIG9wZXJhdGluZyBub3JtYWxseWAsXG4gICAgICBkZWdyYWRlZDogYCR7c2VydmljZX0gaXMgZXhwZXJpZW5jaW5nIG1pbm9yIGlzc3Vlc2AsXG4gICAgICB1bmhlYWx0aHk6IGAke3NlcnZpY2V9IGlzIGV4cGVyaWVuY2luZyBtYWpvciBpc3N1ZXNgLFxuICAgICAgdW5rbm93bjogYCR7c2VydmljZX0gc3RhdHVzIGNhbm5vdCBiZSBkZXRlcm1pbmVkYCxcbiAgICB9O1xuICAgIHJldHVybiBtZXNzYWdlc1tzdGF0dXNdO1xuICB9XG4gIFxuICBwcml2YXRlIHRyYWNrUGVyZm9ybWFuY2UobWV0cmljOiBrZXlvZiB0eXBlb2YgcGVyZm9ybWFuY2VNZXRyaWNzLCBkdXJhdGlvbjogbnVtYmVyKSB7XG4gICAgY29uc3QgbWV0cmljcyA9IHBlcmZvcm1hbmNlTWV0cmljc1ttZXRyaWNdO1xuICAgIG1ldHJpY3MucHVzaChkdXJhdGlvbik7XG4gICAgXG4gICAgLy8gS2VlcCBvbmx5IGxhc3QgMTAwIG1lYXN1cmVtZW50c1xuICAgIGlmIChtZXRyaWNzLmxlbmd0aCA+IDEwMCkge1xuICAgICAgbWV0cmljcy5zaGlmdCgpO1xuICAgIH1cbiAgfVxuICBcbiAgcHJpdmF0ZSBjYWxjdWxhdGVBdmVyYWdlKHZhbHVlczogbnVtYmVyW10pOiBudW1iZXIge1xuICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSByZXR1cm4gMDtcbiAgICBjb25zdCBzdW0gPSB2YWx1ZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoc3VtIC8gdmFsdWVzLmxlbmd0aCk7XG4gIH1cbiAgXG4gIHByaXZhdGUgYXN5bmMgbG9nSGVhbHRoQ2hlY2soZGF0YTogYW55KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGxvZ1BhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2xvZ3MnLCAnaGVhbHRoLWNoZWNrcy5qc29ubCcpO1xuICAgICAgYXdhaXQgZnMubWtkaXIocGF0aC5kaXJuYW1lKGxvZ1BhdGgpLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgICAgIGF3YWl0IGZzLmFwcGVuZEZpbGUobG9nUGF0aCwgSlNPTi5zdHJpbmdpZnkoZGF0YSkgKyAnXFxuJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2cgaGVhbHRoIGNoZWNrOicsIGVycm9yKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIFB1YmxpYyBtZXRob2QgdG8gbG9nIGVycm9ycyAoY2FsbGVkIGZyb20gb3RoZXIgcGFydHMgb2YgdGhlIGFwcClcbiAgc3RhdGljIGxvZ0Vycm9yKGVycm9yOiBzdHJpbmcpIHtcbiAgICBlcnJvckxvZy5wdXNoKHtcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIGVycm9yLFxuICAgIH0pO1xuICAgIFxuICAgIC8vIEtlZXAgb25seSBsYXN0IGhvdXIgb2YgZXJyb3JzXG4gICAgY29uc3Qgb25lSG91ckFnbyA9IERhdGUubm93KCkgLSA2MCAqIDYwICogMTAwMDtcbiAgICB3aGlsZSAoZXJyb3JMb2cubGVuZ3RoID4gMCAmJiBlcnJvckxvZ1swXS50aW1lc3RhbXAgPCBvbmVIb3VyQWdvKSB7XG4gICAgICBlcnJvckxvZy5zaGlmdCgpO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gUHVibGljIG1ldGhvZCB0byB0cmFjayBwZXJmb3JtYW5jZSAoY2FsbGVkIGZyb20gb3RoZXIgcGFydHMgb2YgdGhlIGFwcClcbiAgc3RhdGljIHRyYWNrTWV0cmljKHR5cGU6ICdkYlF1ZXJpZXMnIHwgJ2FwaUNhbGxzJyB8ICdzeW5jT3BlcmF0aW9ucycsIGR1cmF0aW9uOiBudW1iZXIpIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IEFwcEhlYWx0aENoZWNrLmdldEluc3RhbmNlKCk7XG4gICAgaW5zdGFuY2UudHJhY2tQZXJmb3JtYW5jZSh0eXBlLCBkdXJhdGlvbik7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGFwcEhlYWx0aENoZWNrID0gQXBwSGVhbHRoQ2hlY2suZ2V0SW5zdGFuY2UoKTsiXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50IiwiZnMiLCJwYXRoIiwiU0VSVklDRV9TVEFSVF9USU1FIiwiRGF0ZSIsIm5vdyIsImVycm9yTG9nIiwicGVyZm9ybWFuY2VNZXRyaWNzIiwiZGJRdWVyaWVzIiwiYXBpQ2FsbHMiLCJzeW5jT3BlcmF0aW9ucyIsIkFwcEhlYWx0aENoZWNrIiwic3VwYWJhc2UiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsImdldEluc3RhbmNlIiwiaW5zdGFuY2UiLCJjaGVja0hlYWx0aCIsInNlcnZpY2VzIiwiZGJIZWFsdGgiLCJjaGVja0RhdGFiYXNlIiwicHVzaCIsImF1dGhIZWFsdGgiLCJjaGVja09BdXRoVG9rZW5zIiwib3ZlcmFsbCIsImNhbGN1bGF0ZU92ZXJhbGxTdGF0dXMiLCJvbmVIb3VyQWdvIiwicmVjZW50RXJyb3JzIiwiZmlsdGVyIiwiZSIsInRpbWVzdGFtcCIsImxlbmd0aCIsInVwdGltZVNlY29uZHMiLCJNYXRoIiwiZmxvb3IiLCJhdmdEYlF1ZXJ5VGltZSIsImNhbGN1bGF0ZUF2ZXJhZ2UiLCJhdmdBcGlDYWxsVGltZSIsImF2Z1N5bmNUaW1lIiwibG9nSGVhbHRoQ2hlY2siLCJ0b0lTT1N0cmluZyIsInNlcnZpY2UiLCJzdGF0dXMiLCJ1cHRpbWUiLCJlcnJvckNvdW50IiwicGVyZm9ybWFuY2UiLCJsYXN0QWN0aXZpdHkiLCJkZXBlbmRlbmNpZXMiLCJkYXRhYmFzZSIsIm9hdXRoIiwiZGV0YWlscyIsImNoZWNrcyIsInN0YXJ0IiwiZGF0YSIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsImxpbWl0Iiwic2luZ2xlIiwiZHVyYXRpb24iLCJ0cmFja1BlcmZvcm1hbmNlIiwibmFtZSIsIm1lc3NhZ2UiLCJFcnJvciIsImNhbGN1bGF0ZVNlcnZpY2VTdGF0dXMiLCJkaXNwbGF5TmFtZSIsImxhc3RDaGVjayIsImdldFNlcnZpY2VNZXNzYWdlIiwidG9rZW5QYXRoIiwiam9pbiIsIkhPTUUiLCJleGlzdHMiLCJhY2Nlc3MiLCJ0aGVuIiwiY2F0Y2giLCJ0b2tlbkRhdGEiLCJyZWFkRmlsZSIsInRva2VucyIsIkpTT04iLCJwYXJzZSIsImVuY3J5cHRlZCIsImZpbGVTdGF0cyIsInN0YXQiLCJ0b2tlbkFnZSIsIm10aW1lIiwiZ2V0VGltZSIsImRheXNPbGQiLCJkYXlzUmVtYWluaW5nIiwibWF4Iiwic3RhdHVzZXMiLCJtYXAiLCJzIiwiaW5jbHVkZXMiLCJjIiwibWVzc2FnZXMiLCJoZWFsdGh5IiwiZGVncmFkZWQiLCJ1bmhlYWx0aHkiLCJ1bmtub3duIiwibWV0cmljIiwibWV0cmljcyIsInNoaWZ0IiwidmFsdWVzIiwic3VtIiwicmVkdWNlIiwiYSIsImIiLCJyb3VuZCIsImxvZ1BhdGgiLCJjd2QiLCJta2RpciIsImRpcm5hbWUiLCJyZWN1cnNpdmUiLCJhcHBlbmRGaWxlIiwic3RyaW5naWZ5IiwiY29uc29sZSIsImxvZ0Vycm9yIiwidHJhY2tNZXRyaWMiLCJ0eXBlIiwiYXBwSGVhbHRoQ2hlY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/health/app-health-check.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@supabase","vendor-chunks/next","vendor-chunks/ws","vendor-chunks/isows"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhealth%2Fapp%2Froute&page=%2Fapi%2Fhealth%2Fapp%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhealth%2Fapp%2Froute.ts&appDir=%2FUsers%2Fshayon%2FDevProjects%2Frss-news-reader%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fshayon%2FDevProjects%2Frss-news-reader&isDev=true&tsconfigPath=tsconfig.json&basePath=%2Freader&assetPrefix=%2Freader&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();